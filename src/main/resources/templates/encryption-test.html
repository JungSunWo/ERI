<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>μ•”νΈν™” ν…μ¤νΈ</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 30px;
        }
        .section {
            margin-bottom: 30px;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background-color: #fafafa;
        }
        .section h2 {
            color: #555;
            margin-top: 0;
            border-bottom: 2px solid #007bff;
            padding-bottom: 10px;
        }
        .form-group {
            margin-bottom: 15px;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #333;
        }
        input[type="text"], input[type="email"] {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 14px;
            box-sizing: border-box;
        }
        button {
            background-color: #007bff;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            margin-right: 10px;
        }
        button:hover {
            background-color: #0056b3;
        }
        .result {
            margin-top: 15px;
            padding: 15px;
            border-radius: 4px;
            font-family: monospace;
            white-space: pre-wrap;
            word-break: break-all;
        }
        .success {
            background-color: #d4edda;
            border: 1px solid #c3e6cb;
            color: #155724;
        }
        .error {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            color: #721c24;
        }
        .info {
            background-color: #d1ecf1;
            border: 1px solid #bee5eb;
            color: #0c5460;
        }
        .employee-list {
            max-height: 400px;
            overflow-y: auto;
            border: 1px solid #ddd;
            padding: 10px;
            background-color: white;
        }
        .employee-item {
            padding: 10px;
            border-bottom: 1px solid #eee;
            margin-bottom: 5px;
        }
        .employee-item:last-child {
            border-bottom: none;
        }
        .encrypted {
            color: #dc3545;
            font-weight: bold;
        }
        .decrypted {
            color: #28a745;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>π” μ•”νΈν™” ν…μ¤νΈ νμ΄μ§€</h1>
        
        <!-- κΈ°λ³Έ μ•”νΈν™” ν…μ¤νΈ -->
        <div class="section">
            <h2>π“ κΈ°λ³Έ μ•”νΈν™” ν…μ¤νΈ</h2>
            <div class="form-group">
                <label for="testText">ν…μ¤νΈν•  ν…μ¤νΈ:</label>
                <input type="text" id="testText" placeholder="μ•”νΈν™”ν•  ν…μ¤νΈλ¥Ό μ…λ ¥ν•μ„Έμ”">
            </div>
            <button onclick="testEncryption()">μ•”νΈν™” ν…μ¤νΈ</button>
            <div id="encryptionResult" class="result" style="display: none;"></div>
        </div>

        <!-- μ΄λ©”μΌ μ•”νΈν™” ν…μ¤νΈ -->
        <div class="section">
            <h2>π“§ μ΄λ©”μΌ μ•”νΈν™” ν…μ¤νΈ</h2>
            <div class="form-group">
                <label for="testEmail">ν…μ¤νΈν•  μ΄λ©”μΌ:</label>
                <input type="email" id="testEmail" placeholder="test@example.com">
            </div>
            <button onclick="testEmailEncryption()">μ΄λ©”μΌ μ•”νΈν™” ν…μ¤νΈ</button>
            <div id="emailResult" class="result" style="display: none;"></div>
        </div>

        <!-- μ „ν™”λ²νΈ μ•”νΈν™” ν…μ¤νΈ -->
        <div class="section">
            <h2>π“ μ „ν™”λ²νΈ μ•”νΈν™” ν…μ¤νΈ</h2>
            <div class="form-group">
                <label for="testPhone">ν…μ¤νΈν•  μ „ν™”λ²νΈ:</label>
                <input type="text" id="testPhone" placeholder="010-1234-5678">
            </div>
            <button onclick="testPhoneEncryption()">μ „ν™”λ²νΈ μ•”νΈν™” ν…μ¤νΈ</button>
            <div id="phoneResult" class="result" style="display: none;"></div>
        </div>

        <!-- μ•”νΈν™” ν™•μΈ ν…μ¤νΈ -->
        <div class="section">
            <h2>π” μ•”νΈν™” ν™•μΈ ν…μ¤νΈ</h2>
            <div class="form-group">
                <label for="checkText">ν™•μΈν•  ν…μ¤νΈ:</label>
                <input type="text" id="checkText" placeholder="μ•”νΈν™”λ ν…μ¤νΈ λλ” μΌλ° ν…μ¤νΈ">
            </div>
            <button onclick="checkEncrypted()">μ•”νΈν™” μ—¬λ¶€ ν™•μΈ</button>
            <div id="checkResult" class="result" style="display: none;"></div>
        </div>

        <!-- λ³µνΈν™” ν…μ¤νΈ -->
        <div class="section">
            <h2>π”“ λ³µνΈν™” ν…μ¤νΈ</h2>
            <div class="form-group">
                <label for="decryptText">μ•”νΈν™”λ ν…μ¤νΈ:</label>
                <input type="text" id="decryptText" placeholder="λ³µνΈν™”ν•  μ•”νΈν™”λ ν…μ¤νΈλ¥Ό μ…λ ¥ν•μ„Έμ”">
            </div>
            <button onclick="testDecryption()">λ³µνΈν™” ν…μ¤νΈ</button>
            <div id="decryptResult" class="result" style="display: none;"></div>
        </div>

        <!-- μ΄λ©”μΌ λ³µνΈν™” ν…μ¤νΈ -->
        <div class="section">
            <h2>π“§ μ΄λ©”μΌ λ³µνΈν™” ν…μ¤νΈ</h2>
            <div class="form-group">
                <label for="decryptEmail">μ•”νΈν™”λ μ΄λ©”μΌ:</label>
                <input type="text" id="decryptEmail" placeholder="λ³µνΈν™”ν•  μ•”νΈν™”λ μ΄λ©”μΌμ„ μ…λ ¥ν•μ„Έμ”">
            </div>
            <button onclick="testEmailDecryption()">μ΄λ©”μΌ λ³µνΈν™” ν…μ¤νΈ</button>
            <div id="decryptEmailResult" class="result" style="display: none;"></div>
        </div>

        <!-- μ „ν™”λ²νΈ λ³µνΈν™” ν…μ¤νΈ -->
        <div class="section">
            <h2>π“ μ „ν™”λ²νΈ λ³µνΈν™” ν…μ¤νΈ</h2>
            <div class="form-group">
                <label for="decryptPhone">μ•”νΈν™”λ μ „ν™”λ²νΈ:</label>
                <input type="text" id="decryptPhone" placeholder="λ³µνΈν™”ν•  μ•”νΈν™”λ μ „ν™”λ²νΈλ¥Ό μ…λ ¥ν•μ„Έμ”">
            </div>
            <button onclick="testPhoneDecryption()">μ „ν™”λ²νΈ λ³µνΈν™” ν…μ¤νΈ</button>
            <div id="decryptPhoneResult" class="result" style="display: none;"></div>
        </div>

        <!-- μ§μ› μ •λ³΄ μ΅°ν -->
        <div class="section">
            <h2>π‘¥ μ§μ› μ •λ³΄ μ΅°ν (μ•”νΈν™” ν™•μΈ)</h2>
            <button onclick="getEmployees()">μ „μ²΄ μ§μ› μ΅°ν</button>
            <button onclick="getSpecificEmployee()">νΉμ • μ§μ› μ΅°ν</button>
            <div class="form-group" style="margin-top: 10px;">
                <label for="empId">μ§μ› ID:</label>
                <input type="text" id="empId" placeholder="S97441">
            </div>
            <div id="employeeResult" class="result" style="display: none;"></div>
        </div>

        <!-- λ°°μΉ μ²λ¦¬ μ‹¤ν–‰ -->
        <div class="section">
            <h2>β™οΈ λ°°μΉ μ²λ¦¬ μ‹¤ν–‰</h2>
            <p><strong>μ£Όμ:</strong> μ΄ κΈ°λ¥μ€ empInfo.txt νμΌμ„ μ½μ–΄μ„ DBμ— μ§μ› μ •λ³΄λ¥Ό μ €μ¥ν•©λ‹λ‹¤. μ΄λ©”μΌκ³Ό μ „ν™”λ²νΈλ” μ•”νΈν™”λμ–΄ μ €μ¥λ©λ‹λ‹¤.</p>
            <button onclick="runBatchProcess()" style="background-color: #dc3545;">λ°°μΉ μ²λ¦¬ μ‹¤ν–‰</button>
            <div id="batchResult" class="result" style="display: none;"></div>
        </div>
    </div>

    <script>
        // κΈ°λ³Έ μ•”νΈν™” ν…μ¤νΈ
        async function testEncryption() {
            const text = document.getElementById('testText').value;
            if (!text) {
                alert('ν…μ¤νΈν•  ν…μ¤νΈλ¥Ό μ…λ ¥ν•΄μ£Όμ„Έμ”.');
                return;
            }

            try {
                const response = await fetch('/api/encryption-test/test-encryption', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ text: text })
                });

                const result = await response.json();
                const resultDiv = document.getElementById('encryptionResult');
                
                if (result.success) {
                    resultDiv.className = 'result success';
                    resultDiv.innerHTML = `β… μ•”νΈν™” ν…μ¤νΈ μ„±κ³µ!\n\nμ›λ³Έ: ${result.original}\nμ•”νΈν™”: ${result.encrypted}\nλ³µνΈν™”: ${result.decrypted}\nμΌμΉ μ—¬λ¶€: ${result.isMatch ? 'β… μΌμΉ' : 'β λ¶μΌμΉ'}`;
                } else {
                    resultDiv.className = 'result error';
                    resultDiv.innerHTML = `β μ•”νΈν™” ν…μ¤νΈ μ‹¤ν¨: ${result.error}`;
                }
                resultDiv.style.display = 'block';
            } catch (error) {
                const resultDiv = document.getElementById('encryptionResult');
                resultDiv.className = 'result error';
                resultDiv.innerHTML = `β μ¤λ¥ λ°μƒ: ${error.message}`;
                resultDiv.style.display = 'block';
            }
        }

        // μ΄λ©”μΌ μ•”νΈν™” ν…μ¤νΈ
        async function testEmailEncryption() {
            const email = document.getElementById('testEmail').value;
            if (!email) {
                alert('ν…μ¤νΈν•  μ΄λ©”μΌμ„ μ…λ ¥ν•΄μ£Όμ„Έμ”.');
                return;
            }

            try {
                const response = await fetch('/api/encryption-test/test-email-encryption', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ email: email })
                });

                const result = await response.json();
                const resultDiv = document.getElementById('emailResult');
                
                if (result.success) {
                    resultDiv.className = 'result success';
                    resultDiv.innerHTML = `β… μ΄λ©”μΌ μ•”νΈν™” ν…μ¤νΈ μ„±κ³µ!\n\nμ›λ³Έ: ${result.original}\nμ•”νΈν™”: ${result.encrypted}\nλ³µνΈν™”: ${result.decrypted}\nμΌμΉ μ—¬λ¶€: ${result.isMatch ? 'β… μΌμΉ' : 'β λ¶μΌμΉ'}`;
                } else {
                    resultDiv.className = 'result error';
                    resultDiv.innerHTML = `β μ΄λ©”μΌ μ•”νΈν™” ν…μ¤νΈ μ‹¤ν¨: ${result.error}`;
                }
                resultDiv.style.display = 'block';
            } catch (error) {
                const resultDiv = document.getElementById('emailResult');
                resultDiv.className = 'result error';
                resultDiv.innerHTML = `β μ¤λ¥ λ°μƒ: ${error.message}`;
                resultDiv.style.display = 'block';
            }
        }

        // μ „ν™”λ²νΈ μ•”νΈν™” ν…μ¤νΈ
        async function testPhoneEncryption() {
            const phone = document.getElementById('testPhone').value;
            if (!phone) {
                alert('ν…μ¤νΈν•  μ „ν™”λ²νΈλ¥Ό μ…λ ¥ν•΄μ£Όμ„Έμ”.');
                return;
            }

            try {
                const response = await fetch('/api/encryption-test/test-phone-encryption', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ phone: phone })
                });

                const result = await response.json();
                const resultDiv = document.getElementById('phoneResult');
                
                if (result.success) {
                    resultDiv.className = 'result success';
                    resultDiv.innerHTML = `β… μ „ν™”λ²νΈ μ•”νΈν™” ν…μ¤νΈ μ„±κ³µ!\n\nμ›λ³Έ: ${result.original}\nμ•”νΈν™”: ${result.encrypted}\nλ³µνΈν™”: ${result.decrypted}\nμΌμΉ μ—¬λ¶€: ${result.isMatch ? 'β… μΌμΉ' : 'β λ¶μΌμΉ'}`;
                } else {
                    resultDiv.className = 'result error';
                    resultDiv.innerHTML = `β μ „ν™”λ²νΈ μ•”νΈν™” ν…μ¤νΈ μ‹¤ν¨: ${result.error}`;
                }
                resultDiv.style.display = 'block';
            } catch (error) {
                const resultDiv = document.getElementById('phoneResult');
                resultDiv.className = 'result error';
                resultDiv.innerHTML = `β μ¤λ¥ λ°μƒ: ${error.message}`;
                resultDiv.style.display = 'block';
            }
        }

        // μ•”νΈν™” ν™•μΈ ν…μ¤νΈ
        async function checkEncrypted() {
            const text = document.getElementById('checkText').value;
            if (!text) {
                alert('ν™•μΈν•  ν…μ¤νΈλ¥Ό μ…λ ¥ν•΄μ£Όμ„Έμ”.');
                return;
            }

            try {
                const response = await fetch('/api/encryption-test/check-encrypted', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ text: text })
                });

                const result = await response.json();
                const resultDiv = document.getElementById('checkResult');
                
                if (result.success) {
                    resultDiv.className = 'result info';
                    resultDiv.innerHTML = `π” μ•”νΈν™” ν™•μΈ κ²°κ³Ό:\n\nν…μ¤νΈ: ${result.text}\nμ•”νΈν™” μ—¬λ¶€: ${result.isEncrypted ? 'β… μ•”νΈν™”λ¨' : 'β μ•”νΈν™”λμ§€ μ•μ'}`;
                } else {
                    resultDiv.className = 'result error';
                    resultDiv.innerHTML = `β ν™•μΈ μ‹¤ν¨: ${result.error}`;
                }
                resultDiv.style.display = 'block';
            } catch (error) {
                const resultDiv = document.getElementById('checkResult');
                resultDiv.className = 'result error';
                resultDiv.innerHTML = `β μ¤λ¥ λ°μƒ: ${error.message}`;
                resultDiv.style.display = 'block';
            }
        }

        // λ³µνΈν™” ν…μ¤νΈ
        async function testDecryption() {
            const encryptedText = document.getElementById('decryptText').value;
            if (!encryptedText) {
                alert('μ•”νΈν™”λ ν…μ¤νΈλ¥Ό μ…λ ¥ν•΄μ£Όμ„Έμ”.');
                return;
            }

            try {
                const response = await fetch('/api/encryption-test/test-decryption', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ encryptedText: encryptedText })
                });

                const result = await response.json();
                const resultDiv = document.getElementById('decryptResult');
                
                if (result.success) {
                    resultDiv.className = 'result success';
                    resultDiv.innerHTML = `β… λ³µνΈν™” ν…μ¤νΈ μ„±κ³µ!\n\nμ•”νΈν™”λ ν…μ¤νΈ: ${result.encrypted}\nλ³µνΈν™”λ ν…μ¤νΈ: ${result.decrypted}`;
                } else {
                    resultDiv.className = 'result error';
                    resultDiv.innerHTML = `β λ³µνΈν™” ν…μ¤νΈ μ‹¤ν¨: ${result.error}`;
                }
                resultDiv.style.display = 'block';
            } catch (error) {
                const resultDiv = document.getElementById('decryptResult');
                resultDiv.className = 'result error';
                resultDiv.innerHTML = `β μ¤λ¥ λ°μƒ: ${error.message}`;
                resultDiv.style.display = 'block';
            }
        }

        // μ΄λ©”μΌ λ³µνΈν™” ν…μ¤νΈ
        async function testEmailDecryption() {
            const encryptedEmail = document.getElementById('decryptEmail').value;
            if (!encryptedEmail) {
                alert('μ•”νΈν™”λ μ΄λ©”μΌμ„ μ…λ ¥ν•΄μ£Όμ„Έμ”.');
                return;
            }

            try {
                const response = await fetch('/api/encryption-test/test-email-decryption', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ encryptedEmail: encryptedEmail })
                });

                const result = await response.json();
                const resultDiv = document.getElementById('decryptEmailResult');
                
                if (result.success) {
                    resultDiv.className = 'result success';
                    resultDiv.innerHTML = `β… μ΄λ©”μΌ λ³µνΈν™” ν…μ¤νΈ μ„±κ³µ!\n\nμ•”νΈν™”λ μ΄λ©”μΌ: ${result.encrypted}\nλ³µνΈν™”λ μ΄λ©”μΌ: ${result.decrypted}`;
                } else {
                    resultDiv.className = 'result error';
                    resultDiv.innerHTML = `β μ΄λ©”μΌ λ³µνΈν™” ν…μ¤νΈ μ‹¤ν¨: ${result.error}`;
                }
                resultDiv.style.display = 'block';
            } catch (error) {
                const resultDiv = document.getElementById('decryptEmailResult');
                resultDiv.className = 'result error';
                resultDiv.innerHTML = `β μ¤λ¥ λ°μƒ: ${error.message}`;
                resultDiv.style.display = 'block';
            }
        }

        // μ „ν™”λ²νΈ λ³µνΈν™” ν…μ¤νΈ
        async function testPhoneDecryption() {
            const encryptedPhone = document.getElementById('decryptPhone').value;
            if (!encryptedPhone) {
                alert('μ•”νΈν™”λ μ „ν™”λ²νΈλ¥Ό μ…λ ¥ν•΄μ£Όμ„Έμ”.');
                return;
            }

            try {
                const response = await fetch('/api/encryption-test/test-phone-decryption', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ encryptedPhone: encryptedPhone })
                });

                const result = await response.json();
                const resultDiv = document.getElementById('decryptPhoneResult');
                
                if (result.success) {
                    resultDiv.className = 'result success';
                    resultDiv.innerHTML = `β… μ „ν™”λ²νΈ λ³µνΈν™” ν…μ¤νΈ μ„±κ³µ!\n\nμ•”νΈν™”λ μ „ν™”λ²νΈ: ${result.encrypted}\nλ³µνΈν™”λ μ „ν™”λ²νΈ: ${result.decrypted}`;
                } else {
                    resultDiv.className = 'result error';
                    resultDiv.innerHTML = `β μ „ν™”λ²νΈ λ³µνΈν™” ν…μ¤νΈ μ‹¤ν¨: ${result.error}`;
                }
                resultDiv.style.display = 'block';
            } catch (error) {
                const resultDiv = document.getElementById('decryptPhoneResult');
                resultDiv.className = 'result error';
                resultDiv.innerHTML = `β μ¤λ¥ λ°μƒ: ${error.message}`;
                resultDiv.style.display = 'block';
            }
        }

        // μ „μ²΄ μ§μ› μ΅°ν
        async function getEmployees() {
            try {
                const response = await fetch('/api/encryption-test/employees');
                const result = await response.json();
                const resultDiv = document.getElementById('employeeResult');
                
                if (result.success) {
                    resultDiv.className = 'result success';
                    let html = `β… μ§μ› μ΅°ν μ„±κ³µ!\n\nμ΄ μ§μ› μ: ${result.count}λ…\n\n`;
                    
                    if (result.employees && result.employees.length > 0) {
                        html += '<div class="employee-list">';
                        result.employees.slice(0, 10).forEach(emp => {
                            html += `<div class="employee-item">
                                <strong>${emp.empId}</strong> - ${emp.empNm}<br>
                                μ΄λ©”μΌ: <span class="${emp.ead && emp.ead.includes('==') ? 'encrypted' : 'decrypted'}">${emp.ead || 'N/A'}</span><br>
                                μ „ν™”λ²νΈ: <span class="${emp.empCpn && emp.empCpn.includes('==') ? 'encrypted' : 'decrypted'}">${emp.empCpn || 'N/A'}</span>
                            </div>`;
                        });
                        if (result.employees.length > 10) {
                            html += `<div class="employee-item">... μ™Έ ${result.employees.length - 10}λ… λ”</div>`;
                        }
                        html += '</div>';
                    }
                    
                    resultDiv.innerHTML = html;
                } else {
                    resultDiv.className = 'result error';
                    resultDiv.innerHTML = `β μ§μ› μ΅°ν μ‹¤ν¨: ${result.error}`;
                }
                resultDiv.style.display = 'block';
            } catch (error) {
                const resultDiv = document.getElementById('employeeResult');
                resultDiv.className = 'result error';
                resultDiv.innerHTML = `β μ¤λ¥ λ°μƒ: ${error.message}`;
                resultDiv.style.display = 'block';
            }
        }

        // νΉμ • μ§μ› μ΅°ν
        async function getSpecificEmployee() {
            const empId = document.getElementById('empId').value;
            if (!empId) {
                alert('μ§μ› IDλ¥Ό μ…λ ¥ν•΄μ£Όμ„Έμ”.');
                return;
            }

            try {
                const response = await fetch(`/api/encryption-test/employee/${empId}`);
                const result = await response.json();
                const resultDiv = document.getElementById('employeeResult');
                
                if (result.success) {
                    resultDiv.className = 'result success';
                    const emp = result.employee;
                    resultDiv.innerHTML = `β… μ§μ› μ΅°ν μ„±κ³µ!\n\nμ§μ› ID: ${emp.empId}\nμ΄λ¦„: ${emp.empNm}\nμ΄λ©”μΌ: <span class="${emp.ead && emp.ead.includes('==') ? 'encrypted' : 'decrypted'}">${emp.ead || 'N/A'}</span>\nμ „ν™”λ²νΈ: <span class="${emp.empCpn && emp.empCpn.includes('==') ? 'encrypted' : 'decrypted'}">${emp.empCpn || 'N/A'}</span>`;
                } else {
                    resultDiv.className = 'result error';
                    resultDiv.innerHTML = `β μ§μ› μ΅°ν μ‹¤ν¨: ${result.error}`;
                }
                resultDiv.style.display = 'block';
            } catch (error) {
                const resultDiv = document.getElementById('employeeResult');
                resultDiv.className = 'result error';
                resultDiv.innerHTML = `β μ¤λ¥ λ°μƒ: ${error.message}`;
                resultDiv.style.display = 'block';
            }
        }

        // λ°°μΉ μ²λ¦¬ μ‹¤ν–‰
        async function runBatchProcess() {
            if (!confirm('empInfo.txt νμΌμ„ μ½μ–΄μ„ DBμ— μ§μ› μ •λ³΄λ¥Ό μ €μ¥ν•μ‹κ² μµλ‹κΉ? μ΄λ©”μΌκ³Ό μ „ν™”λ²νΈλ” μ•”νΈν™”λμ–΄ μ €μ¥λ©λ‹λ‹¤.')) {
                return;
            }

            try {
                const response = await fetch('/api/scheduler/manual-emp-info-batch', {
                    method: 'POST'
                });

                const result = await response.json();
                const resultDiv = document.getElementById('batchResult');
                
                if (result.success) {
                    resultDiv.className = 'result success';
                    resultDiv.innerHTML = `β… λ°°μΉ μ²λ¦¬ μ„±κ³µ!\n\nλ©”μ‹μ§€: ${result.message}\nμ²λ¦¬ μ‹κ°„: ${result.processingTime}\nμ΄ μ§μ› μ: ${result.totalEmployees}\nμƒμ„Έ μ •λ³΄: ${result.details}`;
                } else {
                    resultDiv.className = 'result error';
                    resultDiv.innerHTML = `β λ°°μΉ μ²λ¦¬ μ‹¤ν¨: ${result.message}\nμ¤λ¥: ${result.error}`;
                }
                resultDiv.style.display = 'block';
            } catch (error) {
                const resultDiv = document.getElementById('batchResult');
                resultDiv.className = 'result error';
                resultDiv.innerHTML = `β μ¤λ¥ λ°μƒ: ${error.message}`;
                resultDiv.style.display = 'block';
            }
        }
    </script>
</body>
</html> 